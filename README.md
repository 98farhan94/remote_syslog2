# remote_syslog2

Remote_syslog tails one or more log files and sends syslog messages to a
remote central syslog server. It generates packets itself, ignoring the system
syslog daemon, so its configuration doesn't affect system-wide logging.

Uses:

 * Collecting logs from servers & daemons which don't natively support syslog
 * When reconfiguring the system logger is less convenient than a
   purpose-built daemon (e.g., automated app deployments)
 * Aggregating files not generated by daemons (e.g., package manager logs)

This code is tested with the hosted log management service
[Papertrail] and should work for transmitting to
any syslog server.

remote_syslog2 is a rewrite of the ruby
[remote_syslog] package. Not all
features of the ruby version are supported, and there are some backwards
incompatible changes.


## Installing

Precompiled binaries for Mac, Linux and Windows are available on the
[remote_syslog2 releases page][releases].

Untar the package and copy the "remote_syslog" executable into your $PATH.


## Usage

    Usage of remote_syslog2:
      -c, --configfile="/etc/log_files.yml": Path to config
          --debug-log-cfg="": the debug log file
      -d, --dest-host="": Destination syslog hostname or IP
      -p, --dest-port=0: Destination syslog port
          --eventmachine-tail=false: No action, provided for backwards compatibility
      -f, --facility="user": Facility
          --hostname="": Local hostname to send from
          --log="<root>=INFO": "logging configuration <root>=INFO;first=TRACE"
          --new-file-check-interval={0}: How often to check for new files
      -D, --no-detach=false: Don't daemonize and detach from the terminal
          --no-eventmachine-tail=false: No action, provided for backwards compatibility
          --pid-file="": Location of the PID file
      -s, --severity="notice": Severity
          --tcp=false: Connect via TCP (no TLS)
          --tls=false: Connect via TCP with TLS


## Changes from remote_syslog 1

* Default hostname has been removed. Either the `host` config file
option or the `-d` invocation flag are required.


## Development

remote_syslog2 is written in go, and uses [godep]
to manage dependencies. To get everything set up,
[install go][goinstall] then run:

    go get github.com/kr/godep
    go get github.com/mitchellh/gox
    go get github.com/papertrail/remote_syslog2

To run tests:

    # run all tests
    godep go test ./...
    # run all tests except the slower syslog reconnection tests
    godep go test -short ./...


## Building

    make


## Reporting bugs

1. See whether the issue has already been reported: <https://github.com/papertrail/remote_syslog/issues/>
2. If you don't find one, create an issue with a repro case.


## Contributing

Once you've made your great commits:

1. [Fork][fk] remote_syslog
2. Create a topic branch - `git checkout -b my_branch`
3. Commit the changes without changing the Rakefile or other files unrelated to your enhancement.
4. Push to your branch - `git push origin my_branch`
5. Create a Pull Request or an [Issue][is] with a link to your branch
6. That's it!


[Papertrail]: http://papertrailapp.com/
[remote_syslog]: https://github.com/papertrail/remote_syslog
[releases]: https://github.com/papertrail/remote_syslog2/releases

[godep]: https://github.com/kr/godep
[goinstall]: http://golang.org/doc/install

[fk]: http://help.github.com/forking/
[is]: https://github.com/papertrail/remote_syslog/issues/
